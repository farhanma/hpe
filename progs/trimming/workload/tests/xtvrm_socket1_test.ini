# Default module_template configuration.
# Lines beginning with '#' are comments; blank lines are ignored

[defaults]
work_root: ~/workload_test_suite/xtvrm_socket1_test

#units -  m:minutes, h:hours
wall_clock_time_limit_unit:m
wall_clock_time_limit_value:

[xtvrm_socket1_test]
component_test_type:trim
num_passes:1
test_script:xtcpudgemm_screen
test_script_parameters:-numa 1 -runtime 6 

test_script_source_dir:/opt/cray/diag/bin/<arch>
test_script_ini_source_dir:
test_script_ini:
additional_ld_library_path_components:
environment_variables_template:OMP_STACKSIZE=128M

generated_results_csv_output_filename:xtvrm_socket1_results_timestamp.csv
generated_watts_csv_output_filename:xtvrm_socket1_watts_timestamp.csv
generated_slow_nodes_csv_output_filename:xtvrm_socket1_slow_nodes_timestamp.csv
calculated_bin_average_output_file_name:xtvrm_socket1_system_bin_average_timestamp.json
system_bin_average:
system_bin_average_offset:
cutoff_percentage:
bin_sort_column_label:BIN
watts_sort_column_label:WATTS
node_power_max:450
socket_temp_max:95
supported_processor_types:bdw,hsw,skl

run_test_copies_concurrently:True

#log parsing details
error_keyword_list:
error_match_exclusion_list:
timestamp_path_index:-1
timestamp_component_index:-1
nodeinfo_in_logfile_name:
nodeinfo_path_index:
nodeinfo_component_index:
nodeinfo_component_index_alternate:

[alps]
#default aprun settings 
job_launcher:aprun 
aprun_parameters:-n WIDTH -N NPPN -L NODE_LIST -m MEM_SIZE --cc=none
 
[slurm]
job_launcher:srun 
#srun_parameters:--exclusive -n WIDTH --ntasks-per-node=NPPN --cpu_bind=none --nodelist=NODE_LIST --time=90 --mem-per-cpu=MAX
#srun_parameters:--exclusive -n WIDTH --ntasks-per-node=NPPN --cpu_bind=none --nodelist=NODE_LIST --time=90
#srun_parameters:--exclusive -n WIDTH --ntasks-per-node=NPPN --cpu_bind=none --mem-per-cpu=0 --nodelist=NODE_LIST --time=90
srun_parameters:--exclusive -n WIDTH --ntasks-per-node=NPPN --cpu_bind=none --mem-per-cpu=0 --nodelist=NODE_LIST --time=360
