# Default module_template configuration.
# Lines beginning with '#' are comments; blank lines are ignored

[defaults]
work_root: ~/workload_test_suite/xtcpuperf_test

#units -  m:minutes, h:hours
wall_clock_time_limit_unit:m
wall_clock_time_limit_value:

[xtcpuperf_test]
component_test_type:processor
num_passes:1

test_script_source_dir:/opt/cray/diag/bin/<arch>
test_script_ini_source_dir:/opt/cray/diag/etc

test_script:xtcpuperf
test_script_parameters: 
test_script_ini:
test_script_knl:xtphiperf
test_script_parameters_knl: -m 51200 -n 51200 -k 51200 -l 2 
test_script_ini_source_dir_knl:/opt/cray/diag/etc/
test_script_ini_knl:xtphiperf.ini

additional_ld_library_path:
number_of_nodes_per_job:1
run_test_copies_concurrently:True

#log parsing details
single_logfile_per_job:True
error_keyword_list:
error_match_exclusion_list:
nodeinfo_in_logfile_name:True
timestamp_path_index:-2
timestamp_component_index:-1
nodeinfo_path_index:-1
nodeinfo_component_index:3
nodeinfo_component_index_alternate:-1

[alps]
#default aprun settings 
job_launcher:aprun 
aprun_parameters:-n WIDTH -N NPPN -L NODE_LIST -cc none

[slurm]
job_launcher:srun 
#srun_parameters:--exclusive -n WIDTH --ntasks-per-node=NPPN --nodelist=NODE_LIST --cpu_bind=none --time=90
#srun_parameters:--exclusive -n WIDTH --ntasks-per-node=NPPN --nodelist=NODE_LIST --cpu_bind=none --mem-per-cpu=0 --time=90
srun_parameters:--exclusive -n WIDTH --ntasks-per-node=NPPN --nodelist=NODE_LIST --cpu_bind=none --mem-per-cpu=0 --time=360
